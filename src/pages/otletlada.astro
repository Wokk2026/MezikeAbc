---
// M√©zike ABC - √ñtletl√°da 2.0 (K√∂z√∂ss√©gi Fal √©s Szavaz√°s)
const boltNev = "M√©zike ABC";
const cim = "1238 Budapest, Grassalkovich √∫t (A nagy templom m√∂g√∂tt)";
---

<html lang="hu">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>√ñtletl√°da - {boltNev}</title>
		<style>
			:root {
				--ginger-brown: #d2691e;
				--shrek-green: #7dbb42;
				--warm-cream: #fff9f0;
				--deep-brown: #5d3a1a;
                --botanical-bg: #f0f7e9;
			}

            * { -webkit-tap-highlight-color: transparent; outline: none; box-sizing: border-box; }

			body {
				font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
				background: var(--warm-cream);
				color: var(--deep-brown);
				margin: 0;
			}

			.container { max-width: 900px; margin: 0 auto; padding: 0 20px; }
			
			header { 
				background: rgba(255, 255, 255, 0.95); 
				padding: 1rem 0; 
				border-bottom: 4px solid var(--shrek-green);
				position: sticky; top: 0; z-index: 1000;
			}
			.nav-flex { display: flex; justify-content: space-between; align-items: center; }
            .logo { font-size: 1.5rem; font-weight: bold; color: var(--ginger-brown); text-decoration: none; }
            nav a { margin: 0 10px; text-decoration: none; color: var(--deep-brown); font-weight: 600; }

            .main-content { padding: 4rem 0; text-align: center; }

            /* V√°laszt√≥ √©s Bek√ºld≈ë (image_acd13b.png alapj√°n) */
            .choice-container { display: flex; justify-content: center; gap: 30px; margin-bottom: 2rem; }
            .choice-card {
                background: white; padding: 1.5rem; border-radius: 30px;
                border: 3px solid var(--ginger-brown); cursor: pointer; transition: 0.3s; width: 140px;
            }
            .choice-card.active { background: var(--botanical-bg); border-color: var(--shrek-green); }
            .icon { font-size: 2.5rem; display: block; margin-bottom: 5px; }

            /* Sz√∂vegdoboz st√≠lusa */
            #form-section { display: none; margin-bottom: 4rem; }
            #form-section.visible { display: block; }
            textarea {
                width: 100%; max-width: 500px; height: 120px; border-radius: 20px;
                border: 3px solid var(--ginger-brown); padding: 1rem; margin-bottom: 1rem; resize: none;
            }
            .send-btn {
                background: var(--ginger-brown); color: white; border: none;
                padding: 12px 35px; border-radius: 50px; font-weight: bold; cursor: pointer;
            }

            /* --- K√âTOSZLOPOS T√ÅROL√ì (√öJ R√âSZ) --- */
            .wall-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 30px;
                margin-top: 4rem;
                text-align: left;
            }

            .column-title {
                text-align: center;
                color: var(--ginger-brown);
                border-bottom: 3px solid var(--shrek-green);
                padding-bottom: 10px;
                margin-bottom: 20px;
            }

            .entry-card {
                background: white;
                padding: 1.5rem;
                border-radius: 20px;
                border: 2px solid #ddd;
                margin-bottom: 15px;
                box-shadow: 0 4px 10px rgba(0,0,0,0.05);
                transition: 0.3s;
                position: relative;
            }

            .entry-text { font-size: 0.95rem; margin-bottom: 1rem; }

            /* Szavaz√°s gombok */
            .vote-bar {
                display: flex;
                gap: 15px;
                align-items: center;
                border-top: 1px solid #eee;
                padding-top: 10px;
            }

            .vote-btn {
                background: none;
                border: none;
                cursor: pointer;
                font-size: 1.1rem;
                display: flex;
                align-items: center;
                gap: 5px;
                transition: 0.2s;
                color: var(--deep-brown);
            }
            .vote-btn:hover { transform: scale(1.2); }
            .like:hover { color: var(--shrek-green); }
            .dislike:hover { color: var(--ginger-brown); }

            /* Postal√°da anim√°ci√≥ kont√©ner */
            #mailbox-container {
                position: fixed; bottom: -300px; left: 50%; transform: translateX(-50%);
                transition: 0.8s; z-index: 2000; font-size: 6rem;
            }
            #mailbox-container.up { bottom: 30px; }

            @media (max-width: 768px) {
                .wall-grid { grid-template-columns: 1fr; }
            }
		</style>
	</head>
	<body>
		<header>
			<div class="container nav-flex">
				<a href="/" class="logo">üç™ {boltNev}</a>
                <nav>
                    <a href="/">F≈ëoldal</a>
                    <a href="/akciok">Akci√≥k</a>
                    <a href="/jatek">Kv√≠z</a>
                    <a href="/otletlada">√ñtletl√°da</a>
                </nav>
			</div>
		</header>

		<main class="container main-content">
            <h1>Mocs√°ri √ñtletl√°da</h1>
            <div class="choice-container">
                <div class="choice-card" id="btn-otlet">
                    <span class="icon">üí°</span><strong>√ñtlet</strong>
                </div>
                <div class="choice-card" id="btn-velemeny">
                    <span class="icon">‚≠ê</span><strong>V√©lem√©ny</strong>
                </div>
            </div>

            <div id="form-section">
                <textarea id="message" placeholder="√çrd ide az √ºzeneted..."></textarea><br>
                <button class="send-btn" id="send-btn">K√ºld√©s a l√°d√°ba</button>
            </div>

            <div class="wall-grid">
                <div>
                    <h3 class="column-title">üí° √ñtletek</h3>
                    <div id="otlet-list"></div>
                </div>
                <div>
                    <h3 class="column-title">‚≠ê V√©lem√©nyek</h3>
                    <div id="velemeny-list"></div>
                </div>
            </div>
		</main>

        <div id="mailbox-container">üìÆ</div>

        <script>
            // Adatok t√°rol√°sa (Adatb√°zis h√≠j√°n egyel≈ëre a mem√≥ri√°ban)
            let entries = [
                { id: 1, type: 'otlet', text: "Legyen Shrek alak√∫ f√°nk!", score: 5 },
                { id: 2, type: 'velemeny', text: "Nagyon kedves a kiszolg√°l√°s!", score: 8 }
            ];

            const formSection = document.getElementById('form-section');
            const otletList = document.getElementById('otlet-list');
            const velemenyList = document.getElementById('velemeny-list');
            let currentType = "";

            // V√°laszt√°s logik√°ja
            document.getElementById('btn-otlet').onclick = () => {
                currentType = "otlet";
                formSection.classList.add('visible');
                document.getElementById('btn-otlet').classList.add('active');
                document.getElementById('btn-velemeny').classList.remove('active');
            };

            document.getElementById('btn-velemeny').onclick = () => {
                currentType = "velemeny";
                formSection.classList.add('visible');
                document.getElementById('btn-velemeny').classList.add('active');
                document.getElementById('btn-otlet').classList.remove('active');
            };

            // Bek√ºld√©s √©s Anim√°ci√≥
            document.getElementById('send-btn').onclick = () => {
                const text = document.getElementById('message').value;
                if(!text) return;

                // √öj elem hozz√°ad√°sa
                entries.push({ id: Date.now(), type: currentType, text: text, score: 0 });
                
                // Postal√°da anim√°ci√≥
                const mailbox = document.getElementById('mailbox-container');
                mailbox.classList.add('up');
                
                setTimeout(() => {
                    mailbox.classList.remove('up');
                    document.getElementById('message').value = "";
                    renderWall();
                }, 2000);
            };

            // Megjelen√≠t√©s √©s szavaz√°s alap√∫ rendez√©s
            function renderWall() {
                otletList.innerHTML = "";
                velemenyList.innerHTML = "";

                // Pontsz√°m szerint cs√∂kken≈ë sorrend
                const sorted = [...entries].sort((a, b) => b.score - a.score);

                sorted.forEach(entry => {
                    const card = document.createElement('div');
                    card.className = 'entry-card';
                    card.innerHTML = `
                        <div class="entry-text">${entry.text}</div>
                        <div class="vote-bar">
                            <button class="vote-btn like" onclick="vote(${entry.id}, 1)">üëç <span>${entry.score}</span></button>
                            <button class="vote-btn dislike" onclick="vote(${entry.id}, -1)">üëé</button>
                        </div>
                    `;
                    
                    if(entry.type === 'otlet') otletList.appendChild(card);
                    else velemenyList.appendChild(card);
                });
            }

            window.vote = (id, change) => {
                const entry = entries.find(e => e.id === id);
                if(entry) {
                    entry.score += change;
                    renderWall();
                }
            };

            renderWall();
        </script>
	</body>
</html>