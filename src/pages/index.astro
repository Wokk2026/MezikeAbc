---
// M√©zike ABC - F≈ëoldal (Harmoniz√°lt sz√≠nekkel √©s Szam√°r-v√©delemmel)
const boltNev = "M√©zike ABC";
const telefon = "+3612853245"; 
const cim = "1238 Budapest, Grassalkovich √∫t (A nagy templom m√∂g√∂tt)";

import esemenyek from '../data/esemenyek.json';
import EventCard from '../components/EventCard.astro';
---

<html lang="hu">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<title>{boltNev} - Egy mes√©s vil√°g Soroks√°ron</title>
		<style>
			:root {
				--ginger-brown: #d2691e;
				--shrek-green: #7dbb42;
				--warm-cream: #fff9f0;
				--deep-brown: #5d3a1a;
                --botanical-bg: #f0f7e9;
                --glow-green: rgba(125, 187, 66, 0.4);
			}

			html { scroll-behavior: smooth; }

			body {
				font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
				background: var(--warm-cream);
				color: var(--deep-brown);
				margin: 0;
				line-height: 1.6;
                overflow-x: hidden;
			}

			.container { max-width: 900px; margin: 0 auto; padding: 0 20px; }
			
			/* Navig√°ci√≥ */
			header { 
				background: rgba(255, 255, 255, 0.95); 
				backdrop-filter: blur(5px);
				padding: 1rem 0; 
				border-bottom: 4px solid var(--shrek-green);
				position: sticky; top: 0; z-index: 1000;
			}
			.nav-flex { display: flex; justify-content: space-between; align-items: center; }
			.logo { font-size: 1.5rem; font-weight: bold; color: var(--ginger-brown); text-decoration: none; }
            nav a { margin: 0 15px; text-decoration: none; color: var(--deep-brown); font-weight: 600; transition: 0.3s; }
            nav a:hover { color: var(--shrek-green); }

			/* Hero szekci√≥ */
			.hero { 
				padding: 6rem 0; 
				text-align: center; 
				background: linear-gradient(rgba(93, 58, 26, 0.75), rgba(93, 58, 26, 0.75)), url('https://images.unsplash.com/photo-1585320806297-9794b3e4eeae?auto=format&fit=crop&q=80&w=1000');
				background-size: cover;
				background-position: center;
				border-radius: 0 0 50px 50px;
                color: white;
                border-bottom: 8px solid var(--ginger-brown);
			}
			.hero h1 { font-size: 3.5rem; margin-bottom: 1rem; color: white; }

			/* Szekci√≥k alapst√≠lusa */
			section { padding: 4rem 0; opacity: 0; transform: translateY(20px); transition: 0.6s ease-out; }
            section.reveal { opacity: 1; transform: translateY(0); }

			/* K√°rty√°k (K√∂rnyezet √©s St√≠lus) */
			.card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; margin-top: 2rem; }
			.card { 
				background: white; 
				padding: 0; 
				border-radius: 30px; 
				box-shadow: 0 10px 25px rgba(0,0,0,0.08);
				border: 3px solid var(--ginger-brown);
                transition: 0.3s;
                overflow: hidden;
			}
            .card:hover { transform: translateY(-8px); border-color: var(--shrek-green); }
            .card-tag { background: var(--shrek-green); color: white; padding: 8px; text-align: center; font-weight: bold; font-size: 0.9rem; }
            .card-content { padding: 1.5rem 2rem 2rem 2rem; }

			/* Akci√≥ Gomb Szekci√≥ */
            .sales-cta-zone {
                text-align: center;
                padding: 6rem 0;
                background: var(--botanical-bg);
                border-radius: 50px;
                margin: 2rem auto;
                border: 3px dashed var(--ginger-brown);
            }
            .ginger-crack-btn {
                display: inline-block;
                padding: 25px 50px;
                background-color: var(--ginger-brown);
                color: white;
                font-size: 1.6rem;
                font-weight: 800;
                text-decoration: none;
                border-radius: 25px;
                border: 6px solid #b35919;
                position: relative;
                transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                box-shadow: 0 10px 0 #8c4614, 0 15px 25px rgba(0,0,0,0.1);
                z-index: 100;
            }
            .ginger-crack-btn:hover {
                transform: translateY(-5px) scale(1.05);
                box-shadow: 0 15px 0 #8c4614, 0 20px 35px var(--glow-green);
            }

            /* Szam√°r (Bal oldal) */
            #szamar-wrapper {
                position: fixed;
                left: -300px;
                bottom: 100px;
                z-index: 2500;
                transition: left 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                display: flex;
                flex-direction: column;
                align-items: flex-end;
                pointer-events: none;
            }
            #szamar-wrapper.show { left: 20px; }
            #szamar-img { width: 220px; filter: drop-shadow(5px 5px 15px rgba(0,0,0,0.2)); }
            #szamar-bubble {
                background: white; padding: 15px 20px; border-radius: 25px 25px 25px 0;
                box-shadow: 0 5px 20px rgba(0,0,0,0.1); border: 3px solid var(--shrek-green);
                font-weight: bold; margin-bottom: 15px; max-width: 250px;
                opacity: 0; transition: 0.3s; color: var(--deep-brown);
            }
            #szamar-wrapper.show #szamar-bubble { opacity: 1; }

			/* Botanical & Highlight */
            .botanical-section {
                background-color: var(--botanical-bg);
                padding: 5rem 0;
                border-top: 5px solid var(--shrek-green);
                border-bottom: 5px solid var(--shrek-green);
                text-align: center;
                position: relative;
            }
            .botanical-title {
                color: var(--deep-brown);
                font-size: 2.5rem;
                position: relative;
                display: inline-block;
                margin: 0 auto 1.5rem auto;
                padding: 0 70px;
            }
            .botanical-title::before, .botanical-title::after { content: 'üåø'; font-size: 2.2rem; position: absolute; top: 50%; transform: translateY(-50%); }
            .botanical-title::before { left: 0; } .botanical-title::after { right: 0; }

			/* M√©zike & Shrek */
            #mezike-wrapper {
                position: fixed; right: -50px; top: 60%; z-index: 2000;
                transition: right 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                display: flex; align-items: center; cursor: pointer;
            }
            #mezike-wrapper:hover { right: 0px; }
            #mezike-img { width: 120px; }

            #shrek-footer-wrapper {
                position: fixed; bottom: -190px; left: 50%; transform: translateX(-50%);
                z-index: 1900; transition: bottom 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
                cursor: pointer; display: flex; flex-direction: column; align-items: center;
            }
            #shrek-footer-wrapper:hover { bottom: -30px; }
            #shrek-head { width: 280px; }
            #shrek-bubble {
                background: var(--shrek-green); color: white; padding: 15px 25px; border-radius: 30px;
                font-weight: bold; border: 3px solid var(--deep-brown); opacity: 0; visibility: hidden;
            }
            #shrek-footer-wrapper:hover #shrek-bubble { opacity: 1; visibility: visible; }

			footer { background: var(--deep-brown); color: white; padding: 4rem 0 8rem 0; text-align: center; }
		</style>
	</head>
	<body>
        <div id="szamar-wrapper">
            <div id="szamar-bubble">NE NYOMD MEG! Megl√°tod az akci√≥s s√ºtiket √©s elk√∂lt√∂d az √∂sszes p√©nzed! üò±üí∏</div>
            <img src="szamar.png" id="szamar-img" alt="Szam√°r" />
        </div>

        <div id="mezike-wrapper">
            <div id="mezike-bubble">Szia! S√ºti van? üç™</div>
            <img src="/mezike-kivagott.png" id="mezike-img" alt="M√©zike" />
        </div>

        <div id="shrek-footer-wrapper">
            <div id="shrek-bubble">GYERE BE A BOLTBA, VAGY... √ñSSZENY√ÅLKA≈πLAK! üßÖ</div>
            <img src="/shrek.png" id="shrek-head" alt="Shrek" />
        </div>

		<header>
			<div class="container nav-flex">
				<a href="/" class="logo">üç™ {boltNev}</a>
                <nav>
                    <a href="/">F≈ëoldal</a>
                    <a href="/akciok">Akci√≥k</a>
                </nav>
				<a href="#kapcsolat" class="btn" style="padding: 10px 25px; background: var(--ginger-brown); color: white; border-radius: 50px; text-decoration: none; font-weight: bold;">Kapcsolat</a>
			</div>
		</header>

		<main>
			<section class="hero reveal">
				<div class="container">
					<span style="background: var(--shrek-green); color: white; padding: 5px 15px; border-radius: 20px; font-size: 0.8rem; font-weight: bold;">üçÑ Mes√©s Birodalom Soroks√°ron</span>
					<h1>M√©zike ABC</h1>
					<p style="font-size: 1.2rem;">L√©pj be a Shrek-vil√°g kedvenc kisboltj√°ba!</p>
				</div>
			</section>

			<section class="container reveal">
				<div class="card-grid">
					<div class="card">
						<div class="card-tag">K√ñRNYEZET</div>
						<div class="card-content">
							<h3>üè∞ M≈±eml√©ki t√©r</h3>
							<p>Pihenj meg a nagy templom m√∂g√∂tti szoborparkban, k√∂zvetlen√ºl a boltunk el≈ëtt.</p>
						</div>
					</div>
					<div class="card">
						<div class="card-tag">ST√çLUS</div>
						<div class="card-content">
							<h3>üíö Shrek tematika</h3>
							<p>M√©zike szeretettel v√°r a meg√∫jult, t√°gas √©s mes√©s bels≈ë t√©rben.</p>
						</div>
					</div>
					<div class="card">
						<div class="card-tag">K√ñZ√ñSS√âG</div>
						<div class="card-content">
							<h3>üéÅ Vid√°m programok</h3>
							<p>Szezon√°lis tombol√°k √©s jelmezversenyek v√°rnak minden h√≥napban.</p>
						</div>
					</div>
				</div>
			</section>

			<section class="sales-cta-zone reveal">
				<div class="container">
					<h2 style="color: var(--deep-brown); margin-bottom: 2rem;">Vigy√°zat! Mocs√°ri √Årak!</h2>
					<a href="/akciok" class="ginger-crack-btn" id="sales-trigger-btn">
						N√©zd meg az akci√≥kat! üç™
					</a>
				</div>
			</section>

			<section class="container reveal">
                <h2 style="text-align: center; color: var(--ginger-brown); font-size: 2.2rem;">üé≠ K√∂zelg≈ë Esem√©nyek</h2>
                <div class="card-grid">
                    {
                      esemenyek.slice(0, 3).map((e) => (
                        <EventCard esemeny={e} full={false} />
                      ))
                    }
                </div>
            </section>

			<section class="botanical-section">
				<div class="container">
					<h2 class="botanical-title">√âlet a t√©ren</h2>
					<p>Karnev√°lok √©s v√°s√°rok k√∂zvetlen√ºl a boltunk el≈ëtt. <strong>Ugorj be hozz√°nk k√∂zben!</strong></p>
				</div>
			</section>

			<section class="container" style="text-align: center;">
				<div style="background: var(--shrek-green); color: white; border-radius: 40px; padding: 4rem; border: 4px solid var(--deep-brown);">
					<h2>üß∏ Gyermekbar√°t Birodalom</h2>
					<p>Rengeteg j√°t√©k √©s √©dess√©g v√°rja a legkisebbeket!</p>
					<a href="https://share.google/JHBOt52KVOOVVpPED" target="_blank" class="btn" style="background: white; color: var(--deep-brown); margin-top: 1.5rem; padding: 15px 35px; border-radius: 50px; text-decoration: none; display: inline-block; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: 0.3s;">
    Ir√°ny a Bolt! ‚Üí
</a>
				</div>
			</section>
		</main>

		<footer id="kapcsolat">
			<div class="container">
				<h2>V√°runk a nagy templom m√∂g√∂tt!</h2>
				<p>üìç {cim}</p>
				<p>¬© 2026 {boltNev} - Soroks√°r.</p>
			</div>
		</footer>

        <script>
            // Megjelen√©si anim√°ci√≥
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('reveal'); });
            }, { threshold: 0.1 });
            document.querySelectorAll('section').forEach(s => observer.observe(s));

            // SZAM√ÅR LOGIKA (T√∂bb √ºzenettel)
            const szamar = document.getElementById('szamar-wrapper');
            const bubble = document.getElementById('szamar-bubble');
            const salesBtn = document.getElementById('sales-trigger-btn');
            const msgs = [
                "NE NYOMD MEG! Megl√°tod az akci√≥s s√ºtiket √©s elk√∂lt√∂d az √∂sszes p√©nzed! üò±",
                "Shrek azt mondta, aki r√°kattint, annak ki kell takar√≠tania a mocsarat! Ne kock√°ztass!",
                "Hallod, √©n csak j√≥t akarok! Ha bem√©sz az akci√≥khoz, sosem j√∂ssz ki √ºres k√©zzel!",
                "√Ållj meg! Ink√°bb vegy√©l nekem egy kis zabot, ne k√∂ltsd el a p√©nzed akci√≥s f√°nkra!"
            ];

            const showSzamar = () => {
                bubble.innerText = msgs[Math.floor(Math.random() * msgs.length)];
                szamar.classList.add('show');
            };

            salesBtn.addEventListener('mouseenter', showSzamar);
            salesBtn.addEventListener('mouseleave', () => szamar.classList.remove('show'));
            salesBtn.addEventListener('touchstart', (e) => { showSzamar(); setTimeout(() => szamar.classList.remove('show'), 4000); });

            // M√âZIKE & SHREK
            const mezike = document.getElementById('mezike-wrapper');
            const mBubble = document.getElementById('mezike-bubble');
            mezike.addEventListener('click', () => {
                mBubble.classList.toggle('show');
                setTimeout(() => mBubble.classList.remove('show'), 3000);
            });
        </script>
	</body>
</html>