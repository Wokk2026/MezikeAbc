---
// M√©zike ABC - F≈ëoldal (Mobil-optimaliz√°lt verzi√≥)
const boltNev = "M√©zike ABC";
const telefon = "+3612853245"; 
const cim = "1238 Budapest, Grassalkovich √∫t (A nagy templom m√∂g√∂tt)";

import esemenyek from '../data/esemenyek.json';
import EventCard from '../components/EventCard.astro';
---

<html lang="hu">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{boltNev} - Egy mes√©s vil√°g Soroks√°ron</title>
		<style>
			:root {
				--ginger-brown: #d2691e;
				--shrek-green: #7dbb42;
				--warm-cream: #fff9f0;
				--deep-brown: #5d3a1a;
                --botanical-bg: #f0f7e9;
                --glow-green: rgba(125, 187, 66, 0.4);
			}

/* --- GLOB√ÅLIS SIM√çT√ÅSOK (K√©k keret ellen) --- */
* {
    /* Ez a kulcs! Elt√ºnteti a k√©k villan√°st mobilon */
    -webkit-tap-highlight-color: transparent;
    /* Ez pedig a f√≥kusz keretet t√ºnteti el, ha zavar√≥ */
    outline: none;
}

/* Biztos ami biztos alapon a karakterekre k√ºl√∂n is r√°tessz√ºk */
#szamar-wrapper, #mezike-wrapper, #shrek-footer-wrapper, #fiona-wrapper, a, button {
    -webkit-tap-highlight-color: transparent;
    outline: none;
}

			html { scroll-behavior: smooth; }

			body {
				font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
				background: var(--warm-cream);
				color: var(--deep-brown);
				margin: 0;
				line-height: 1.6;
                overflow-x: hidden;
			}

			.container { max-width: 900px; margin: 0 auto; padding: 0 20px; }
			
			/* Navig√°ci√≥ */
			header { 
				background: rgba(255, 255, 255, 0.95); 
				backdrop-filter: blur(5px);
				padding: 1rem 0; 
				border-bottom: 4px solid var(--shrek-green);
				position: sticky; top: 0; z-index: 1000;
			}
			.nav-flex { display: flex; justify-content: space-between; align-items: center; }
			.logo { font-size: 1.5rem; font-weight: bold; color: var(--ginger-brown); text-decoration: none; }
            nav a { margin: 0 10px; text-decoration: none; color: var(--deep-brown); font-weight: 600; transition: 0.3s; }
            nav a:hover { color: var(--shrek-green); }

			/* Hero szekci√≥ */
			.hero { 
				padding: 6rem 0; 
				text-align: center; 
				background: linear-gradient(rgba(93, 58, 26, 0.75), rgba(93, 58, 26, 0.75)), url('https://images.unsplash.com/photo-1585320806297-9794b3e4eeae?auto=format&fit=crop&q=80&w=1000');
				background-size: cover;
				background-position: center;
				border-radius: 0 0 50px 50px;
                color: white;
                border-bottom: 8px solid var(--ginger-brown);
			}
			.hero h1 { font-size: 3.5rem; margin-bottom: 1rem; color: white; }

			/* Szekci√≥k alapst√≠lusa */
			section { padding: 4rem 0; opacity: 0; transform: translateY(20px); transition: 0.6s ease-out; }
            section.reveal { opacity: 1; transform: translateY(0); }

			/* K√°rty√°k */
			.card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; margin-top: 2rem; }
			.card { 
				background: white; 
				padding: 0; 
				border-radius: 30px; 
				box-shadow: 0 10px 25px rgba(0,0,0,0.08);
				border: 3px solid var(--ginger-brown);
                transition: 0.3s;
                overflow: hidden;
			}
            .card:hover { transform: translateY(-8px); border-color: var(--shrek-green); }
            .card-tag { background: var(--shrek-green); color: white; padding: 8px; text-align: center; font-weight: bold; font-size: 0.9rem; }
            .card-content { padding: 1.5rem 2rem 2rem 2rem; }

			/* Akci√≥ Gomb Szekci√≥ */
            .sales-cta-zone {
                text-align: center; padding: 6rem 0; background: var(--botanical-bg);
                border-radius: 50px; margin: 2rem auto; border: 3px dashed var(--ginger-brown);
            }
            .ginger-crack-btn {
                display: inline-block; padding: 25px 50px; background-color: var(--ginger-brown); color: white;
                font-size: 1.6rem; font-weight: 800; text-decoration: none; border-radius: 25px;
                border: 6px solid #b35919; position: relative; transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                box-shadow: 0 10px 0 #8c4614, 0 15px 25px rgba(0,0,0,0.1); z-index: 100;
            }

            /* Karakterek alaphelyzete */
            #szamar-wrapper, #mezike-wrapper, #shrek-footer-wrapper { transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

            #szamar-wrapper { position: fixed; left: -300px; bottom: 100px; z-index: 2500; display: flex; flex-direction: column; align-items: flex-end; pointer-events: none; }
            #szamar-wrapper.show { left: 20px; pointer-events: auto; }
            #szamar-img { width: 220px; filter: drop-shadow(5px 5px 15px rgba(0,0,0,0.2)); }
            #szamar-bubble { background: white; padding: 15px 20px; border-radius: 25px 25px 25px 0; box-shadow: 0 5px 20px rgba(0,0,0,0.1); border: 3px solid var(--shrek-green); font-weight: bold; margin-bottom: 15px; max-width: 250px; opacity: 0; transition: 0.3s; color: var(--deep-brown); }
            #szamar-wrapper.show #szamar-bubble { opacity: 1; }

            #mezike-wrapper { position: fixed; right: 20px; top: 60%; z-index: 2000; display: flex; align-items: center; cursor: pointer; }
            #mezike-img { width: 120px; transition: transform 0.3s; }
            #mezike-bubble { background: white; padding: 12px 20px; border-radius: 20px 20px 0 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border: 2px solid var(--ginger-brown); font-weight: bold; font-size: 0.9rem; margin-right: 15px; opacity: 0; visibility: hidden; transition: 0.3s; color: var(--deep-brown); white-space: nowrap; }
            #mezike-bubble.show { opacity: 1; visibility: visible; transform: translateY(-10px); }

            #shrek-footer-wrapper { position: fixed; bottom: -190px; left: 50%; transform: translateX(-50%); z-index: 1900; cursor: pointer; display: flex; flex-direction: column; align-items: center; }
            #shrek-footer-wrapper.peek { bottom: -120px; }
            #shrek-footer-wrapper.show { bottom: -30px; }
            #shrek-head { width: 280px; }
            #shrek-bubble { background: var(--shrek-green); color: white; padding: 15px 25px; border-radius: 30px; font-weight: bold; border: 3px solid var(--deep-brown); opacity: 0; visibility: hidden; transition: 0.3s; }
            #shrek-footer-wrapper.show #shrek-bubble { opacity: 1; visibility: visible; }

            /* --- MOBIL SZAB√ÅLYOK --- */
            @media (max-width: 768px) {
                .hero h1 { font-size: 2.2rem; }
                .nav-flex { flex-direction: column; gap: 10px; }
                nav a { margin: 0 5px; font-size: 0.9rem; }
                
                #szamar-img { width: 120px; }
                #mezike-img { width: 80px; }
                #shrek-head { width: 180px; }
                
                #szamar-bubble, #mezike-bubble { font-size: 0.75rem; max-width: 150px; }
                #shrek-footer-wrapper.show { bottom: -20px; }

                .ginger-crack-btn { width: 90%; font-size: 1.2rem; padding: 20px; }
                section { padding: 3rem 0; }
            }

			footer { background: var(--deep-brown); color: white; padding: 4rem 0 8rem 0; text-align: center; }
		</style>
	</head>
	<body>
        <div id="szamar-wrapper">
            <div id="szamar-bubble">NE NYOMD MEG! üò±</div>
            <img src="/szamar.png" id="szamar-img" alt="Szam√°r" />
        </div>

        <div id="mezike-wrapper">
            <div id="mezike-bubble">Szia! S√ºti van? üç™</div>
            <img src="/mezike-kivagott.png" id="mezike-img" alt="M√©zike" />
        </div>

        <div id="shrek-footer-wrapper" class="peek">
            <div id="shrek-bubble">GYERE BE A BOLTBA! üßÖ</div>
            <img src="/shrek.png" id="shrek-head" alt="Shrek" />
        </div>

		<header>
			<div class="container nav-flex">
				<a href="/" class="logo">üç™ {boltNev}</a>
                <nav>
    <a href="/">F≈ëoldal</a>
    <a href="/akciok">Akci√≥k</a>
    <a href="/jatek">Kv√≠z</a> </nav>
				<a href="#kapcsolat" class="btn" style="padding: 10px 20px; background: var(--ginger-brown); color: white; border-radius: 50px; text-decoration: none; font-weight: bold; font-size: 0.9rem;">Kapcsolat</a>
			</div>
		</header>

		<main>
			<section class="hero reveal">
				<div class="container">
					<span style="background: var(--shrek-green); color: white; padding: 5px 15px; border-radius: 20px; font-size: 0.7rem; font-weight: bold;">üçÑ Soroks√°r mes√©s pontja</span>
					<h1>M√©zike ABC</h1>
					<p>L√©pj be a Shrek-vil√°g kedvenc kisboltj√°ba!</p>
				</div>
			</section>

			<section class="container reveal">
				<div class="card-grid">
					<div class="card">
						<div class="card-tag">K√ñRNYEZET</div>
						<div class="card-content">
							<h3>üè∞ M≈±eml√©ki t√©r</h3>
							<p>A nagy templom m√∂g√∂tti park k√∂zvetlen szomsz√©ds√°g√°ban.</p>
						</div>
					</div>
					<div class="card">
						<div class="card-tag">ST√çLUS</div>
						<div class="card-content">
							<h3>üíö Shrek tematika</h3>
							<p>Mes√©s bels≈ë t√©r √©s bar√°ts√°gos kiszolg√°l√°s v√°r.</p>
						</div>
					</div>
					<div class="card">
						<div class="card-tag">K√ñZ√ñSS√âG</div>
						<div class="card-content">
							<h3>üéÅ Programok</h3>
							<p>Tombol√°k √©s versenyek minden h√≥napban.</p>
						</div>
					</div>
				</div>
			</section>

			<section class="sales-cta-zone reveal">
				<div class="container">
					<h2 style="margin-bottom: 2rem;">Mocs√°ri √Årak!</h2>
					<a href="/akciok" class="ginger-crack-btn" id="sales-trigger-btn">Akci√≥k megtekint√©se! üç™</a>
				</div>
			</section>

			<section class="container reveal">
                <h2 style="text-align: center; color: var(--ginger-brown); font-size: 2rem;">üé≠ Esem√©nyek</h2>
                <div class="card-grid">
                    {esemenyek.slice(0, 3).map((e) => (
                        <EventCard esemeny={e} full={false} />
                    ))}
                </div>
            </section>

			<section class="container" style="text-align: center;">
				<div style="background: var(--shrek-green); color: white; border-radius: 40px; padding: 3rem 1.5rem; border: 4px solid var(--deep-brown);">
					<h2 style="font-size: 1.5rem;">üß∏ Gyermekbar√°t Birodalom</h2>
					<p style="font-size: 0.9rem;">J√°t√©kok √©s √©dess√©gek t√°rh√°za!</p>
					<a href="https://share.google/JHBOt52KVOOVVpPED" target="_blank" class="btn" style="background: white; color: var(--deep-brown); margin-top: 1.5rem; padding: 12px 25px; border-radius: 50px; text-decoration: none; display: inline-block; font-weight: bold;">Ir√°ny a Bolt! ‚Üí</a>
				</div>
			</section>
		</main>

		<footer id="kapcsolat">
			<div class="container">
				<p>üìç {cim}</p>
				<p>¬© 2026 {boltNev}</p>
			</div>
		</footer>

        <script>
            // Megjelen√©si anim√°ci√≥
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('reveal'); });
            }, { threshold: 0.05 });
            document.querySelectorAll('section').forEach(s => observer.observe(s));

            // SZAM√ÅR LOGIKA (√ârint√©s-bar√°t)
            const szamar = document.getElementById('szamar-wrapper');
            const sBubble = document.getElementById('szamar-bubble');
            const salesBtn = document.getElementById('sales-trigger-btn');
            const sMsgs = ["NE NYOMD MEG! üò±", "Vigy√°zz a p√©nzt√°rc√°dra! üí∏", "Shrek haragudni fog! üëπ"];

            const triggerSzamar = () => {
                sBubble.innerText = sMsgs[Math.floor(Math.random() * sMsgs.length)];
                szamar.classList.add('show');
                setTimeout(() => szamar.classList.remove('show'), 3500);
            };

            salesBtn.addEventListener('mouseenter', triggerSzamar);
            salesBtn.addEventListener('touchstart', (e) => { triggerSzamar(); });

            // M√âZIKE LOGIKA
            const mezike = document.getElementById('mezike-wrapper');
            const mBubble = document.getElementById('mezike-bubble');
            const mMsgs = ["S√ºti van? üç™", "Sz√©p napot! üåø", "Ne edd meg a gombjaim! üò±"];

            mezike.addEventListener('click', () => {
                mBubble.innerText = mMsgs[Math.floor(Math.random() * mMsgs.length)];
                mBubble.classList.add('show');
                setTimeout(() => mBubble.classList.remove('show'), 3000);
            });

            // SHREK LOGIKA
            const shrek = document.getElementById('shrek-footer-wrapper');
            shrek.addEventListener('click', () => {
                shrek.classList.toggle('show');
                setTimeout(() => shrek.classList.remove('show'), 4000);
            });
        </script>
	</body>
</html>